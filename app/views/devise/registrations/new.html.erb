<%= simple_form_for(resource, :as => resource_name, :url => registration_path(resource_name),
                    html: {onsubmit:'return validateTermsAgreement();',class: 'form-horizontal form-registration panel' }) do |f| %>

    <%= devise_error_messages! %>

    <div class='form-group'>
      <label class='control-label'>Public Name</label>
      <%= f.text_field :public_name,  :class=>'form-control', :placeholder=>'Public Name',
                       autocomplete: 'off', autofocus: true, :required=>true, :value=>'' %>
    </div>

    <div class='form-group'>
      <label class='control-label'>Full Name</label>
      <%= f.text_field :full_name, :class=>'form-control', :placeholder=>'Full Name',
                       autocomplete: 'off' %>
    </div>

    <div class='form-group'>
      <label class='control-label'>Email</label>
      <%= f.email_field :email, :type=>'email', :class=>'form-control',
                        :placeholder=>'Enter Email', :required=>true%>
    </div>

    <div class='form-group'>
      <label class='control-label'>Password</label>
      <% if @validatable %>
          <%#<em>(<%= @minimum_password_length %><!-- chars atleast)</em>-->
      <% end %>
      <%= f.password_field :password, autocomplete: 'off', :class=>'form-control',
                           :placeholder=>'Password', :required=>true %>
    </div>

    <div class='form-group'>
      <label class='control-label'>Repeat Password</label>
      <%= f.password_field :password_confirmation, autocomplete: 'off', :class=>'form-control',
                           :placeholder=>'Repeat Password', :required=>true%>
    </div>

    <div class='form-group'>
      <label><input type='checkbox' id='termsCheckbox'> I have read & agree to the <%=link_to 'terms', terms_path, :target=>'_blank'%></label>
    </div>

    <div class="g-recaptcha" data-sitekey="6LfpQgATAAAAAHKPM2Z2cTNvHL3N_wUkLF0usUoC"></div>

    <%= f.submit 'Sign Up', :class=>'btn btn-primary btn-block'%>
    <%if Rails.env=='development'%>
        <input type='button' class="btn btn-block btn-primary" value="Generate Values for testing" onclick="genValues();"/>
    <%end%>
<%end%>

<script>
    function validateTermsAgreement(){
        if($('input:checkbox:not(:checked)').size()>0){
            alert('You need to accept terms to proceed.')
            return false;
        }
        else return true;
    }

    function genValues(){
        var randNum = Math.floor((Math.random()*100)+1);
        document.getElementById('user_public_name').value='pName'+randNum;
        document.getElementById('user_full_name').value='fName'+randNum;
        document.getElementById('user_email').value='email@email.c'+randNum;
        document.getElementById('user_password').value='password'+randNum;
        document.getElementById('user_password_confirmation').value=document.getElementById('user_password').value
        document.getElementById('termsCheckbox').checked=true;
    }

</script>